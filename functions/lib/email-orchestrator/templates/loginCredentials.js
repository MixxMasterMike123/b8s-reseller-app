"use strict";
exports.__esModule = true;
exports.generateLoginCredentialsTemplate = void 0;
// Login Credentials Email Template
// Extracted from V3 welcomeCredentials.ts and affiliateCredentials.ts - DESIGN PRESERVED + MOBILE OPTIMIZED
var config_1 = require("../core/config");
function generateLoginCredentialsTemplate(data, lang) {
    if (lang === void 0) { lang = 'sv-SE'; }
    var userInfo = data.userInfo, credentials = data.credentials, accountType = data.accountType, wasExistingAuthUser = data.wasExistingAuthUser;
    // Generate appropriate URLs based on account type
    var segment = (0, config_1.getLanguageSegment)(lang);
    var loginUrl;
    var portalName;
    var referralUrl = null;
    if (accountType === 'AFFILIATE') {
        loginUrl = "".concat(config_1.EMAIL_CONFIG.URLS.B2C_SHOP, "/").concat(segment, "/affiliate-login");
        portalName = 'Affiliate-portalen';
        referralUrl = "".concat(config_1.EMAIL_CONFIG.URLS.B2C_SHOP, "/").concat(segment, "/?ref=").concat(credentials.affiliateCode);
    }
    else {
        // B2B users
        loginUrl = "".concat(config_1.EMAIL_CONFIG.URLS.B2B_PORTAL);
        portalName = 'Återförsäljarportalen';
    }
    var templates = {
        'sv-SE': {
            subject: accountType === 'AFFILIATE'
                ? (wasExistingAuthUser ? 'B8Shield Affiliate-uppgifter uppdaterade' : 'Välkommen till B8Shield Affiliate Program - Dina inloggningsuppgifter')
                : 'Välkommen till B8Shield Återförsäljarportalen - Dina inloggningsuppgifter',
            html: "<div style=\"font-family: ".concat(config_1.EMAIL_CONFIG.TEMPLATES.FONT_FAMILY, "; max-width: ").concat(config_1.EMAIL_CONFIG.TEMPLATES.MAX_WIDTH, "; margin: 0 auto; background-color: ").concat(config_1.EMAIL_CONFIG.COLORS.BACKGROUND, "; padding: 15px;\">\n  <div style=\"background-color: white; border-radius: ").concat(config_1.EMAIL_CONFIG.TEMPLATES.BORDER_RADIUS, "; padding: 25px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);\">\n    \n    <!-- Header with gradient background -->\n    <div style=\"background: linear-gradient(135deg, #459CA8 0%, #357a8a 100%); padding: 30px 20px; text-align: center; border-radius: 6px; margin: -25px -25px 25px -25px;\">\n      <img src=\"").concat(config_1.EMAIL_CONFIG.URLS.LOGO_URL, "\" alt=\"B8Shield\" style=\"max-width: 180px; height: auto; display: block; margin: 0 auto;\">\n    </div>\n    \n    <!-- Welcome Section -->\n    <div style=\"text-align: center; margin-bottom: 25px;\">\n      <h1 style=\"color: #1e293b; font-size: 24px; margin: 0 0 10px 0; font-weight: 600;\">\n        ").concat(wasExistingAuthUser ? 'Uppgifter uppdaterade' :
                accountType === 'AFFILIATE' ? "Grattis, ".concat(userInfo.name, "!") : "Hej ".concat(userInfo.contactPerson || userInfo.name, ","), "\n      </h1>\n      <p style=\"color: #64748b; font-size: 15px; margin: 0; line-height: 1.5;\">\n        ").concat(wasExistingAuthUser ?
                "Dina ".concat(accountType === 'AFFILIATE' ? 'affiliate' : 'återförsäljar', "uppgifter har uppdaterats.") :
                accountType === 'AFFILIATE' ?
                    'Din ansökan till B8Shields affiliate-program har blivit godkänd!' :
                    "V\u00E4lkommen till B8Shield ".concat(portalName, "!"), "\n      </p>\n    </div>\n\n    ").concat(!wasExistingAuthUser && accountType === 'AFFILIATE' ? "\n    <p style=\"color: ".concat(config_1.EMAIL_CONFIG.COLORS.TEXT_SECONDARY, "; line-height: 1.6; margin-bottom: 20px; font-size: 15px;\">Du \u00E4r nu en officiell B8Shield-affiliate och kan b\u00F6rja tj\u00E4na provision p\u00E5 alla f\u00F6rs\u00E4ljningar.</p>\n    ") : '', "\n\n    ").concat(!wasExistingAuthUser && accountType === 'B2B' ? "\n    <p style=\"color: ".concat(config_1.EMAIL_CONFIG.COLORS.TEXT_SECONDARY, "; line-height: 1.6; margin-bottom: 20px; font-size: 15px;\">Vi har skapat ett konto f\u00F6r <strong>").concat(userInfo.companyName, "</strong> och du kan nu komma \u00E5t v\u00E5r \u00E5terf\u00F6rs\u00E4ljarportal.</p>\n    ") : '', "\n\n    <!-- Credentials Card -->\n    <div style=\"background-color: #f1f5f9; border-left: 4px solid #459CA8; padding: 20px; margin: 25px 0; border-radius: 6px;\">\n      <h3 style=\"color: #1e293b; margin: 0 0 15px 0; font-size: 16px;\">\uD83D\uDD10 Dina inloggningsuppgifter</h3>\n      \n      <div style=\"margin: 10px 0;\">\n        <span style=\"color: #475569; font-weight: 600; font-size: 14px;\">E-post:</span>\n        <span style=\"color: #1e293b; font-family: 'Courier New', monospace; background-color: #e2e8f0; padding: 6px 10px; border-radius: 4px; display: inline-block; margin-left: 8px; font-size: 13px;\">").concat(credentials.email, "</span>\n      </div>\n      \n      ").concat(credentials.affiliateCode ? "\n      <div style=\"margin: 10px 0;\">\n        <span style=\"color: #475569; font-weight: 600; font-size: 14px;\">".concat(accountType === 'AFFILIATE' ? 'Affiliate-kod' : 'Återförsäljarkod', ":</span>\n        <span style=\"color: #1e293b; font-family: 'Courier New', monospace; background-color: #e2e8f0; padding: 6px 10px; border-radius: 4px; display: inline-block; margin-left: 8px; font-size: 13px;\">").concat(credentials.affiliateCode, "</span>\n      </div>\n      ") : '', "\n      \n      ").concat(!wasExistingAuthUser && credentials.temporaryPassword ? "\n      <div style=\"margin: 10px 0;\">\n        <span style=\"color: #475569; font-weight: 600; font-size: 14px;\">Tillf\u00E4lligt l\u00F6senord:</span>\n        <span style=\"color: #1e293b; font-family: 'Courier New', monospace; background-color: #e2e8f0; padding: 6px 10px; border-radius: 4px; display: inline-block; margin-left: 8px; font-size: 13px;\">".concat(credentials.temporaryPassword, "</span>\n      </div>\n      ") : '', "\n    </div>\n\n    <!-- Important Information Box -->\n    <div style=\"background-color: #fef3c7; border-left: 4px solid ").concat(config_1.EMAIL_CONFIG.COLORS.WARNING, "; padding: 15px; margin-bottom: 20px; border-radius: 4px;\">\n      <h4 style=\"color: #92400e; margin-top: 0; margin-bottom: 10px; font-size: 14px;\">\n        ").concat(wasExistingAuthUser ? '[BEFINTLIGT KONTO]' : '[VIKTIGT]', " VIKTIG INFORMATION:\n      </h4>\n      ").concat(wasExistingAuthUser ? "\n      <p style=\"color: #78350f; margin: 5px 0; font-size: 13px; line-height: 1.4;\">Du hade redan ett konto hos B8Shield, s\u00E5 du kan forts\u00E4tta anv\u00E4nda ditt befintliga l\u00F6senord. Om du har gl\u00F6mt det kan du \u00E5terst\u00E4lla det med l\u00E4nken nedan.</p>\n      " : "\n      <ul style=\"color: #92400e; margin: 0; padding-left: 18px; font-size: 13px; line-height: 1.4;\">\n        <li style=\"margin-bottom: 4px;\">Du m\u00E5ste \u00E4ndra ditt l\u00F6senord vid f\u00F6rsta inloggningen</li>\n        <li style=\"margin-bottom: 4px;\">".concat(portalName, " finns p\u00E5: <a href=\"").concat(loginUrl, "\" style=\"color: #92400e; text-decoration: underline;\">").concat(loginUrl, "</a></li>\n        <li>Ditt konto har aktiverats och du har nu tillg\u00E5ng till alla ").concat(accountType === 'AFFILIATE' ? 'affiliate' : 'återförsäljar', "funktioner</li>\n      </ul>\n      "), "\n    </div>\n\n    ").concat(accountType === 'AFFILIATE' && referralUrl ? "\n    <!-- Affiliate Referral URL -->\n    <div style=\"background-color: #ecfdf5; padding: 15px; border-radius: 6px; margin-bottom: 20px;\">\n      <h4 style=\"color: #065f46; margin-top: 0; margin-bottom: 10px; font-size: 14px;\">[AFFILIATE] DIN REFERRAL-L\u00C4NK:</h4>\n      <div style=\"background-color: white; padding: 10px; border-radius: 4px; border-left: 4px solid #10b981; word-break: break-all; font-size: 13px;\">\n        <a href=\"".concat(referralUrl, "\" style=\"color: #065f46; text-decoration: none;\">").concat(referralUrl, "</a>\n      </div>\n      <p style=\"color: #065f46; margin: 8px 0 0 0; font-size: 12px;\">Dela denna l\u00E4nk f\u00F6r att tj\u00E4na provision p\u00E5 f\u00F6rs\u00E4ljningar!</p>\n    </div>\n    ") : '', "\n\n    ").concat(accountType === 'B2B' ? "\n    <!-- B2B Features -->\n    <div style=\"background-color: #ecfdf5; padding: 15px; border-radius: 6px; margin-bottom: 20px;\">\n      <h4 style=\"color: #065f46; margin-top: 0; margin-bottom: 12px; font-size: 14px;\">[FUNKTIONER] VAD KAN DU G\u00D6RA I PORTALEN:</h4>\n      <ul style=\"color: #065f46; margin: 0; padding-left: 18px; font-size: 13px; line-height: 1.4;\">\n        <li style=\"margin-bottom: 4px;\">L\u00E4gga best\u00E4llningar direkt</li>\n        <li style=\"margin-bottom: 4px;\">Se din orderhistorik</li>\n        <li style=\"margin-bottom: 4px;\">Ladda ner produktkataloger</li>\n        <li>Komma \u00E5t marknadsf\u00F6ringsmaterial</li>\n      </ul>\n    </div>\n    " : '', "\n\n    <!-- Action Button -->\n    <div style=\"text-align: center; margin: 25px 0;\">\n      <a href=\"").concat(loginUrl, "\" style=\"display: inline-block; background-color: #EE7E31; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 15px; border: 2px solid #EE7E31;\">\n        ").concat(accountType === 'AFFILIATE' ? 'Gå till affiliate-portalen' : 'Logga in på portalen', "\n      </a>\n    </div>\n\n    ").concat(wasExistingAuthUser ? "\n    <div style=\"text-align: center; margin: 15px 0;\">\n      <a href=\"".concat(config_1.EMAIL_CONFIG.URLS.B2C_SHOP, "/").concat(segment, "/reset-password\" style=\"display: inline-block; background-color: transparent; color: #459CA8; text-decoration: none; padding: 10px 20px; border-radius: 6px; font-weight: bold; font-size: 14px; border: 2px solid #459CA8;\">\u00C5terst\u00E4ll l\u00F6senord</a>\n    </div>\n    ") : '', "\n\n    <!-- Support Information -->\n    <div style=\"background-color: #f3f4f6; padding: 12px; border-radius: 4px; margin-bottom: 20px;\">\n      <h4 style=\"color: ").concat(config_1.EMAIL_CONFIG.COLORS.TEXT_MUTED, "; margin-top: 0; margin-bottom: 8px; font-size: 13px;\">[SUPPORT] BEH\u00D6VER DU HJ\u00C4LP?</h4>\n      <p style=\"color: ").concat(config_1.EMAIL_CONFIG.COLORS.TEXT_MUTED, "; margin: 0; font-size: 12px; line-height: 1.4;\">\n        Om du har n\u00E5gra fr\u00E5gor eller problem med inloggningen, kontakta v\u00E5r support p\u00E5 \n        <a href=\"").concat(config_1.EMAIL_CONFIG.URLS.B2B_PORTAL, "/contact\" style=\"color: #2563eb; text-decoration: none;\">").concat(config_1.EMAIL_CONFIG.URLS.B2B_PORTAL, "/contact</a>\n      </p>\n    </div>\n\n    ").concat(accountType === 'B2B' ? "\n    <p style=\"color: ".concat(config_1.EMAIL_CONFIG.COLORS.TEXT_SECONDARY, "; line-height: 1.6; margin-bottom: 20px; font-size: 14px;\">Vi ser fram emot ett framg\u00E5ngsrikt samarbete!</p>\n    ") : '', "\n    \n    <!-- Footer -->\n    <div style=\"border-top: 1px solid ").concat(config_1.EMAIL_CONFIG.COLORS.BORDER, "; padding-top: 15px; margin-top: 25px;\">\n      <p style=\"color: ").concat(config_1.EMAIL_CONFIG.COLORS.TEXT_MUTED, "; font-size: 13px; margin: 0; line-height: 1.4;\">Med v\u00E4nliga h\u00E4lsningar,<br><strong>B8Shield Team</strong><br>JPH Innovation AB</p>\n    </div>\n  </div>\n</div>")
        },
        'en-GB': {
            subject: accountType === 'AFFILIATE'
                ? (wasExistingAuthUser ? 'B8Shield Affiliate Credentials Updated' : 'Welcome to B8Shield Affiliate Program - Your Credentials')
                : 'Welcome to B8Shield Reseller Portal - Your Login Credentials',
            html: "<div>English B2B/Affiliate Credentials Template</div>"
        },
        'en-US': {
            subject: accountType === 'AFFILIATE'
                ? (wasExistingAuthUser ? 'B8Shield Affiliate Credentials Updated' : 'Welcome to B8Shield Affiliate Program - Your Credentials')
                : 'Welcome to B8Shield Reseller Portal - Your Login Credentials',
            html: "<div>US English B2B/Affiliate Credentials Template</div>"
        }
    };
    var template = templates[lang] || templates['sv-SE'];
    return {
        subject: template.subject,
        html: template.html
    };
}
exports.generateLoginCredentialsTemplate = generateLoginCredentialsTemplate;
